<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Index</title>
		<link rel="stylesheet" href="../css/normalize.css">
		<link rel="stylesheet" href="../css/covershot.css">

		<script type="text/javascript" src="../scripts/jquery-1.7.1.min.js"></script>

		<script type="text/javascript" src="../scripts/shCore.js"></script>
		<script type="text/javascript" src="../scripts/shBrushJScript.js"></script>
		<link href="../css/shCore.css" rel="stylesheet" type="text/css" />
		<link href="../css/shThemeDefault.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div id="bodyWrapper">
			<header>
				<ul class="summary">
					<li>
						<h1><%= filename %></h1>
					</li>
					<li>
						<h1><%= hits %></h1>
						<h3>Hits</h3>
					</li>
					<li>
						<h1><%= misses %></h1>
						<h3>Misses</h3>
					</li>
					<li>
						<h1><%= sloc %></h1>
						<h3>SLoC</h3>
					</li>
					<li>
						<h1>-</h1>
						<h3><%= coverage %>% Covered</h3>
					</li>
				</ul>
			</header>
			<section id="bod">
				<section id="mainContent">
					<script type="syntaxhighlighter" class="brush: js; class-name: 'rounded'"><![CDATA[
						<% for (var i in source) { %> 
							<%= source[i].line %> <% } %> ]]></script>
				</section>
			</section>
		</div>
		<footer> 
			<p>Report generated by <a>Covershot</a> on <%= generated %>.</p> 
		</footer>
		<script type="text/javascript">
			$(document).ready(function(){
				SyntaxHighlighter.all({'cb': function(){
					var green = $.parseJSON('<%- JSON.stringify(green) %>');
					var red = $.parseJSON('<%- JSON.stringify(red) %>');

					//highlight td.gutter div has class 'numbderX'
					$.each(green, function(index, value){
						$('td.gutter div.number'+value).css('background-color', 'rgba(121, 252, 121, 0.62) !important');
						$('div.container div.number'+value).css('background-color', 'rgba(121, 252, 121, 0.62) !important');
					});

					//highlight td.code div.container div has class 'numberX'
					$.each(red, function(index, value){
						$('td.gutter div.number'+value).css('background-color', 'rgba(255, 0, 0, 0.62) !important');
						$('td.code div.container div.number'+value).css('background-color', 'rgba(255, 0, 0, 0.62) !important');
					});
				}});
			});
		</script>
	</body>
</html>